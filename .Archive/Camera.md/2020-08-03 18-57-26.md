---
title: "Camera"
description: "Information about map camera behavior in the Mapbox Maps SDK for Android. Updating the camera position. Restricting the camera. It's all covered inside."
prependJs:
  - "import RelatedPage from '@mapbox/dr-ui/related-page';"
  - "import AndroidActivityToggle from '../../../components/context-dependent/android-activity-toggle';"
contentType: guide
language:
- Java
- Kotlin
---

The Maps SDK's camera is the user's viewpoint above the map. The camera can be tilted, rotated, zoomed, and/or moved by on-screen gestures such as pinching or with pre-written code. It's important to know that the camera object will not make any changes to markers, layers, sources, or other annotations that you've added without you directly influencing this behavior.
Maps SDK的Camera是用户在地图上的视区。 可以通过屏幕上的手势（例如捏合或使用预先编写的代码）倾斜(tilted)，旋转(rotated)，缩放(zoomed)和/或移动(moved)相机。重要的是，在没有对此行为的直接影响的情况下，Camera不会对地图中的标记(marker)，图层(layer)，源(sources)或其他标注(annotation)进行任何更改。

A few camera event listeners are provided in the Maps SDK to notify when, for example, the camera is adjusted. You can read more about these listeners inside the [events page](https://docs.mapbox.com/android/maps/overview/events/#camera-change-events).
Maps SDK中提供了一些Camera事件侦听器来监听各种通知，如何时调整了Camera等。可以在[事件页面](https://docs.mapbox.com/android/maps/overview/events/#camera-change-events)中了解有关这些侦听器的更多信息。

## Camera 位置

The Maps SDK includes a `CameraPosition` class which is comprised of the camera's target, angle, zoom, tilt, and padding. These camera options shape the user's perspective of the map tile(s).
Maps SDK包含一个 `CameraPosition`类，该类包括Camera的目标(target)、角度(angle)、缩放(zoom)、倾斜(tilt)和填充(padding)。Camera的这些选项可以塑造用户对地图切片(tile)的透视图。

### 目标 Target

The target is a single latitude and longitude coordinate that the camera centers itself on. Changing the camera's target will move the camera to the inputted coordinates. The target is a `LatLng` object. The target coordinate is always _at the center of the viewport_.

Dragging the map with a finger will pan the map and thus, the camera target.

目标Target是Camera中心所在的经纬度坐标。改变Camera的目标Target会将Camera移动到该输入的坐标。目标Target是`LatLng` 对象。目标Target坐标始终是整个视区的中心。

用手指拖拽地图会平移地图，从而平移Camera的目标Target。

### 倾斜 Tilt

Tilt is the camera's angle from the nadir (directly facing the Earth) and uses unit degrees. The camera's minimum (default) tilt is 0 degrees, and the maximum tilt is 60. Tilt levels use six decimal point of precision, which enables you to restrict/set/lock a map's bearing with extreme precision.

The map camera tilt can also adjust by placing two fingertips on the map and moving both fingers up and down in parallel at the same time or

倾斜度是相机与最低点（直接面对地球）之间的角度，并使用度作为单位。 相机的最小（默认）倾斜是0度，最大倾斜是60度。倾斜度使用六位小数精度，这使您能够极其准确地限制/设置/锁定地图的方位。

还可以通过将两个指尖放在地图上并同时平行地上下移动两个手指，来调整地图相机的倾斜度。或者

### 方位 Bearing

方位Bearing是Camera指向的方向，并从北向顺时针方向以度为度量单位。

Camera的默认方位为0度（即“正北”），此时地图罗盘将会被隐藏，直到Camera方位变为非零值时，罗盘将会再次显示。 `mapbox_uiCompass` 布尔XML属性允许调整罗盘的可见性。 方位使用六位小数精度，这使您能够极其精确地限制/设置/锁定地图的方位。 除了以编程方式外，用户还可以将两个指尖放在地图上并旋转手指调整Camera方位。

### 缩放 Zoom

缩放Zoom控制地图的比例，并采用0到22之间的任何值。缩放级别为0时，当前视区显示大洲和其他世界特征。 当为中间值11时，将显示城市级别的细节，而在更高的缩放水平下，地图将开始显示建筑物和兴趣点。 Camera可以通过以下方式缩放：

- Pinch motion two fingers _to zoom in and out_.
- Quickly tap twice on the map with a single finger _to zoom in_.
- Quickly tap twice on the map with a single finger and hold your finger down on the screen after the second tap. Then slide the finger up _to zoom out_ and down _to zoom out_.

- 捏合两根手指以放大和缩小。
- 一根手指在地图上快速点按两次放大。
- 在地图上用一根手指快速点击两次，第二次点击后手指按在屏幕上， 然后向上向下滑动手指可以缩放。

为确保您的地图样式在正确的Camera位置显示正确的数据，参阅关于地图的艺术/科学和视觉信息的文章： [为移动设备设计地图](https://blog.mapbox.com/designing-maps-for-mobile-devices-32d2e49d2096)。

## 获取Camera当前位置

`MapboxMap`类的`getCameraPosition()`方法可用来了解地图Camera的当前发生的情况以及用户的视区。一旦地图被成功初始化，可通过`MapboxMap`对象检索地图的`CameraPosition`。 各种Camera值位于`CameraPosition`对象中。

{{
<AndroidActivityToggle
  id="current-camera-position"

java={`
CameraPosition currentCameraPosition = mapboxMap.getCameraPosition();
double currentZoom = currentCameraPosition.zoom;
double currentTilt = currentCameraPosition.tilt;
`}

kotlin={`
val currentCameraPosition = mapboxMap.cameraPosition
val currentZoom = currentCameraPosition.zoom
val currentTilt = currentCameraPosition.tilt
`}

/>
}}


## 更新Camera位置

The `MapboxMap` class in the Maps SDK has several methods to change the camera's position. Each camera movement API takes in a `CameraUpdate` object. You should use the `CameraUpdateFactory` class to provide the new camera position information. `CameraUpdateFactory` can build several different `CameraUpdate` objects including a `newLatLngZoom()`, `zoomBy()`, `newLatLngBounds()`, and several more. A straightforward method in `CameraUpdate` is `newCameraPosition()` which is how you'd pass in a built `CameraPosition`.

Maps SDK中的MapboxMap类具有多种更改相机位置的方法。 每个相机运动API都包含一个“ CameraUpdate”对象。 您应该使用`CameraUpdateFactory`类提供新的摄像机位置信息。 CameraUpdateFactory可以构建几个不同的CameraUpdate对象，包括newLatLngZoom（），zoomBy（），newLatLngBounds（）等。 在“ CameraUpdate”中，一个简单的方法是“ newCameraPosition（）”，这是您传递内置的“ CameraPosition”的方式。

{{
  <RelatedPage
    url="/android/maps/examples/animate-the-map-camera/"
    title="Animate the map camera"
    contentType="example">
}}
Change the camera target, bearing, zoom, and tilt by animating the camera.
通过对照相机设置动画来更改照相机目标，方位，缩放和倾斜。
{{</RelatedPage>}}

A `CameraPosition` object can change a single property of the camera object such as the zoom or it can change multiple properties at the same time. For example, you could have the camera change its target, zoom out, **and** tilt _all at the same time_:
 `CameraPosition` 对象可以更改相机对象的单个属性（例如缩放），也可以同时更改多个属性。 例如，可以让相机同时更改其目标，缩小，**和**全部倾斜_：

{{
<AndroidActivityToggle
  id="camera-position"

java={`
CameraPosition position = new CameraPosition.Builder()
	.target(new LatLng(51.50550, -0.07520))
	.zoom(10)
	.tilt(20)
	.build();
`}

kotlin={`
val position = CameraPosition.Builder()
	.target(LatLng(51.50550, -0.07520))
	.zoom(10.0)
	.tilt(20.0)
	.build()
`}

/>
}}

Read all about [`MapView` XML attributes](https://docs.mapbox.com/android/maps/overview/#mapview-xml-attributes) to learn about setting the camera's initial position with XML rather than programatically with Java or Kotlin. You should either set the initial camera position in XML or through `MapboxMapOptions` to prevent unnecessary downloading of map tiles using up your user's data.


{{
<AndroidActivityToggle
  id="animate-camera"

java={`
mapboxMap.animateCamera(CameraUpdateFactory.newCameraPosition(position), millisecondSpeed);
`}

kotlin={`
mapboxMap.animateCamera(CameraUpdateFactory.newCameraPosition(position), millisecondSpeed)
`}
/>
}}

Aside from consuming a `CameraUpdate` object, a cancelable callback can be added to know when the animation finishes or if the user cancels the camera move by performing a gesture on the map. The `easeCamera()` or `animateCamera()` methods have an optional duration parameter (in milliseconds), which lets you control how quickly the camera travels to the new map location.

| Method            | Description                                                  |
| ----------------- | ------------------------------------------------------------ |
| `moveCamera()`    | *Instantaneously* re-position the camera according to the instructions defined in `CameraUpdate` object parameter. `moveCamera()` quickly moves the camera, which can be visually jarring for a user. Strongly consider using either the `easeCamera()` or `animateCamera()` methods instead because they're less abrupt. |
| `easeCamera()`    | Gradually move the camera according to the instructions defined in `CameraUpdate` object parameter. The camera eases with a default duration, but a custom duration in milliseconds can be set as a second parameter. The camera's zoom level will not be affected unless specified in the `CameraUpdate` object. If you're currently using this method to have the map camera track the user as the device location changes, use [the `LocationComponent`'s `CameraMode.TRACKING` mode](/android/maps/overview/location-component/#cameramode/) instead of easing the camera yourself. Another one of `easeCamera()`'s optional parameters is a boolean to set whether the animation interpolator is used. Disabling the interpolator results in a linear animation to the new position. [This Java SDK Isochrone API example](/android/java/examples/isochrone-seekbar/) uses the animation interpolation. |
| `animateCamera()` | Animate the camera to a new location defined within a `CameraUpdate` object. The pre-defined camera animation evokes powered flight. [This example](https://docs.mapbox.com/android/maps/examples/animate-the-map-camera/) uses this method. |


## 在地图区域内居中Camera

The camera can also centered within a map area like how the camera can be restricted to a region (see below). First you'll need a defined `LatLngBounds` object that includes at least two coordinates. You'll then be able to update the camera position using the available `newLatLngBounds()` method, which takes your bounding box and adjusts the viewport so that the specified region will be within view. Besides the bounding box being passed into the camera update factory, you will also need to provide an `int` value defining the padding between the edge of the screen and the actual bounded region. You also have the option to provide different padding values for each side of the box.

{{
  <RelatedPage
    url="/android/maps/examples/fit-camera-in-bounding-box/"
    title="Fit camera in bounding box"
    contentType="example">
}}
Adjust the camera position to fit a bounding box within the viewport.
{{</RelatedPage>}}

{{
<AndroidActivityToggle
  id="lat-lng-bounds"

java={`
LatLngBounds latLngBounds = new LatLngBounds.Builder()
                    .include(first marker position)
                    .include(second marker position)
                    .build();

mapboxMap.animateCamera(CameraUpdateFactory.newLatLngBounds(latLngBounds, 10));
`}

kotlin={`
val latLngBounds = LatLngBounds.Builder()
                .include(first marker position)
                .include(second marker position)
                .build()
mapboxMap.animateCamera(CameraUpdateFactory.newLatLngBounds(latLngBounds, 10));

`}

/>
}}

## 将用户的平移限制在给定区域内

The `setLatLngBoundsForCameraTarget` method in the `MapboxMap` class can limit the map camera to any area of the world that you'd like. If you feed the `LatLngBounds` object a minimum of two `LatLng` objects/coordinates, an _invisible_ rectangle will automatically be created to restrict the camera to the region.

{{
  <RelatedPage
    url="/android/maps/examples/restrict-map-panning/"
    title="Restrict map panning"
    contentType="example">
}}
Limit the map movement to within a region using a bounding box.
{{</RelatedPage>}}

## Camera and device location

Read about [the `LocationComponent`'s camera options](/android/maps/overview/location-component/) if you'd like to learn more about the relationship between controlling the camera and the device location UI experience. The Maps SDK provides convenient methods for making the camera follow the device location puck, adjusting based on the device rotation, and much more.